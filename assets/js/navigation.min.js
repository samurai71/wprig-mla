"use strict";var KEYMAP={TAB:9};function initNavigation(){initNavToggleSubmenus(),initNavToggleSmall()}function initNavToggleSubmenus(){var e=document.querySelectorAll(".nav--toggle-sub");if(e.length)for(var t=0;t<e.length;t++)initEachNavToggleSubmenu(e[t])}function initEachNavToggleSubmenu(e){var t=e.querySelectorAll(".menu ul");if(t.length)for(var n=getDropdownButton(),o=0;o<t.length;o++){var a=t[o].parentNode,l=a.querySelector(".dropdown");l||((l=document.createElement("span")).classList.add("dropdown"),(r=document.createElement("i")).classList.add("dropdown-symbol"),l.appendChild(r),t[o].parentNode.insertBefore(l,t[o]));var r=n.cloneNode(!0);r.innerHTML=l.innerHTML,l.parentNode.replaceChild(r,l),r.addEventListener("click",function(e){toggleSubMenu(e.target.parentNode)}),a.addEventListener("mouseleave",function(e){toggleSubMenu(e.target,!1)}),a.querySelector("a").addEventListener("focus",function(e){for(var t=e.target.parentNode.parentNode.querySelectorAll("li.menu-item--toggled-on"),n=0;n<t.length;n++)toggleSubMenu(t[n],!1)}),t[o].addEventListener("keydown",function(e){var t="ul.toggle-show > li > a, ul.toggle-show > li > button";KEYMAP.TAB===e.keyCode&&(e.shiftKey?isfirstFocusableElement(e.target,document.activeElement,t)&&toggleSubMenu(e.target.parentNode,!1):islastFocusableElement(e.target,document.activeElement,t)&&toggleSubMenu(e.target.parentNode,!1))}),t[o].parentNode.classList.add("menu-item--has-toggle")}}function initNavToggleSmall(){var e=document.querySelectorAll(".nav--toggle-small");if(e.length)for(var t=0;t<e.length;t++)initEachNavToggleSmall(e[t])}function initEachNavToggleSmall(t){var e=t.querySelector(".menu-toggle");e&&(e.setAttribute("aria-expanded","false"),e.addEventListener("click",function(e){t.classList.toggle("nav--toggled-on"),e.target.setAttribute("aria-expanded","false"===e.target.getAttribute("aria-expanded")?"true":"false")},!1))}function toggleSubMenu(e,t){var n=e.querySelector(".dropdown-toggle"),o=e.querySelector("ul"),a=e.classList.contains("menu-item--toggled-on");if(void 0!==t&&"boolean"==typeof t&&(a=!t),n.setAttribute("aria-expanded",(!a).toString()),a){e.classList.remove("menu-item--toggled-on"),o.classList.remove("toggle-show"),n.setAttribute("aria-label",wpRigScreenReaderText.expand);for(var l=e.querySelectorAll(".menu-item--toggled-on"),r=0;r<l.length;r++)toggleSubMenu(l[r],!1)}else{for(var i=e.parentNode.querySelectorAll("li.menu-item--toggled-on"),g=0;g<i.length;g++)toggleSubMenu(i[g],!1);e.classList.add("menu-item--toggled-on"),o.classList.add("toggle-show"),n.setAttribute("aria-label",wpRigScreenReaderText.collapse)}}function getDropdownButton(){var e=document.createElement("button");return e.classList.add("dropdown-toggle"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label",wpRigScreenReaderText.expand),e}function isfirstFocusableElement(e,t,n){n=e.querySelectorAll(n);return 0<n.length&&t===n[0]}function islastFocusableElement(e,t,n){n=e.querySelectorAll(n);return 0<n.length&&t===n[n.length-1]}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initNavigation):initNavigation();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5hdmlnYXRpb24uanMiXSwibmFtZXMiOlsiS0VZTUFQIiwiVEFCIiwiaW5pdE5hdmlnYXRpb24iLCJpbml0TmF2VG9nZ2xlU3VibWVudXMiLCJpbml0TmF2VG9nZ2xlU21hbGwiLCJuYXZUT0dHTEUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpIiwibGVuZ3RoIiwiaW5pdEVhY2hOYXZUb2dnbGVTdWJtZW51IiwibmF2IiwiU1VCTUVOVVMiLCJkcm9wZG93bkJ1dHRvbiIsImdldERyb3Bkb3duQnV0dG9uIiwicGFyZW50TWVudUl0ZW0iLCJwYXJlbnROb2RlIiwiZHJvcGRvd24iLCJjcmVhdGVFbGVtZW50IiwiZHJvcGRvd25TeW1ib2wiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsImluc2VydEJlZm9yZSIsInRoaXNEcm9wZG93bkJ1dHRvbiIsImNsb25lTm9kZSIsInJlcGxhY2VDaGlsZCIsInRvZ2dsZVN1Yk1lbnUiLCJ0YXJnZXQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInBhcmVudE1lbnVJdGVtc1RvZ2dsZWQiLCJxdWVyeVNlbGVjdG9yIiwiaiIsImtleUNvZGUiLCJzaGlmdEtleSIsImlzZmlyc3RGb2N1c2FibGVFbGVtZW50IiwiYWN0aXZlRWxlbWVudCIsImZvY3VzU2VsZWN0b3IiLCJpc2xhc3RGb2N1c2FibGVFbGVtZW50IiwiaW5pdEVhY2hOYXZUb2dnbGVTbWFsbCIsIm1lbnVUT0dHTEUiLCJzZXRBdHRyaWJ1dGUiLCJ0b2dnbGUiLCJnZXRBdHRyaWJ1dGUiLCJmb3JjZVRvZ2dsZSIsInRvZ2dsZUJ1dHRvbiIsInN1Yk1lbnUiLCJwYXJlbnRNZW51SXRlbVRvZ2dsZWQiLCJ1bmRlZmluZWQiLCJ0b1N0cmluZyIsInN1Yk1lbnVJdGVtc1RvZ2dsZWQiLCJyZW1vdmUiLCJ3cFJpZ1NjcmVlblJlYWRlclRleHQiLCJleHBhbmQiLCJjb2xsYXBzZSIsImNvbnRhaW5lciIsImVsZW1lbnQiLCJmb2N1c2FibGVF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SixhQUFBLGFBQUFXLHNCQUFBQyxRQUdDM0IsSUFERCxJQUFBd0IsRUFBcUJwQixFQUFBQSxpQkFBcUMsMEJBQ3pESixFQUFBQSxFQUFhbkIsRUFBRXVCLEVBQXdCdkIsT0FBS0EsSUFDNUNtQixjQUVEd0IsRUFBQTNDLElBQUEsT0FQTSxDQVVOc0MsSUFEQUMsSUFBQUEsRUFBdUJoQyxFQUF2QkMsV0FBQVQsaUJBQUEsNEJBQ0F1QyxFQUFZLEVBQUNKLEVBQUFBLEVBQTRCVyxPQUFBQSxJQUN6QzFCLGNBQUFJLEVBQUF2QixJQUFBLEdBS0ZPLEVBQUFLLFVBQUFDLElBQUEseUJBQ0EwQixFQUFBM0IsVUFBQUMsSUFBQSxlQUNBeUIsRUFBQUosYUFBQSxhQUFBVyxzQkFBQUUsV0FPQyxTQUFBekMsb0JBRUQsSUFBQUQsRUFBQVAsU0FBQVksY0FBQSxVQUlBLE9BSEFMLEVBQUFPLFVBQUFDLElBQUEsbUJBQ0FSLEVBQUE2QixhQUFBLGdCQUFBLFNBQ0E3QixFQUFBNkIsYUFBQSxhQUFBVyxzQkFBQUMsUUFDQXpDLEVBUUUsU0FBQXVCLHdCQUFBb0IsRUFBQUMsRUFBQW5CLEdBSEtvQixFQUFvQkYsRUFBVWpELGlCQUFrQitCLEdBSXRELE9BQUEsRUFBT29CLEVBQVBqRCxRQUNBZ0QsSUFBQUMsRUFBQSxHQVVELFNBQVNuQix1QkFBd0JpQixFQUFXQyxFQUFTbkIsR0FFL0NvQixFQUFxQkYsRUFBVWpELGlCQUFBK0IsR0FDbkMsT0FBQSxFQUFBb0IsRUFBbUJBLFFBQ25CRCxJQUFBQyxFQUFBQSxFQUFBakQsT0FBQSxHQXhQRixZQUFBSCxTQUFBcUQsV0FJQXJELFNBQUt1QixpQkFBdUI4QixtQkFBYXpELGdCQUF6Q0EiLCJmaWxlIjoibmF2aWdhdGlvbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWwgd3BSaWdTY3JlZW5SZWFkZXJUZXh0ICovXG4vKipcbiAqIEZpbGUgbmF2aWdhdGlvbi5qcy5cbiAqXG4gKiBIYW5kbGVzIHRvZ2dsaW5nIHRoZSBuYXZpZ2F0aW9uIG1lbnUgZm9yIHNtYWxsIHNjcmVlbnMgYW5kIGVuYWJsZXMgVEFCIGtleVxuICogbmF2aWdhdGlvbiBzdXBwb3J0IGZvciBkcm9wZG93biBtZW51cy5cbiAqL1xuXG5jb25zdCBLRVlNQVAgPSB7XG5cdFRBQjogOSxcbn07XG5cbmlmICggJ2xvYWRpbmcnID09PSBkb2N1bWVudC5yZWFkeVN0YXRlICkge1xuXHQvLyBUaGUgRE9NIGhhcyBub3QgeWV0IGJlZW4gbG9hZGVkLlxuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAnRE9NQ29udGVudExvYWRlZCcsIGluaXROYXZpZ2F0aW9uICk7XG59IGVsc2Uge1xuXHQvLyBUaGUgRE9NIGhhcyBhbHJlYWR5IGJlZW4gbG9hZGVkLlxuXHRpbml0TmF2aWdhdGlvbigpO1xufVxuXG4vLyBJbml0aWF0ZSB0aGUgbWVudXMgd2hlbiB0aGUgRE9NIGxvYWRzLlxuZnVuY3Rpb24gaW5pdE5hdmlnYXRpb24oKSB7XG5cdGluaXROYXZUb2dnbGVTdWJtZW51cygpO1xuXHRpbml0TmF2VG9nZ2xlU21hbGwoKTtcbn1cblxuLyoqXG4gKiBJbml0aWF0ZSB0aGUgc2NyaXB0IHRvIHByb2Nlc3MgYWxsXG4gKiBuYXZpZ2F0aW9uIG1lbnVzIHdpdGggc3VibWVudSB0b2dnbGUgZW5hYmxlZC5cbiAqL1xuZnVuY3Rpb24gaW5pdE5hdlRvZ2dsZVN1Ym1lbnVzKCkge1xuXHRjb25zdCBuYXZUT0dHTEUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnLm5hdi0tdG9nZ2xlLXN1YicgKTtcblxuXHQvLyBObyBwb2ludCBpZiBubyBuYXZzLlxuXHRpZiAoICEgbmF2VE9HR0xFLmxlbmd0aCApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBuYXZUT0dHTEUubGVuZ3RoOyBpKysgKSB7XG5cdFx0aW5pdEVhY2hOYXZUb2dnbGVTdWJtZW51KCBuYXZUT0dHTEVbIGkgXSApO1xuXHR9XG59XG5cbi8qKlxuICogSW5pdGlhdGUgdGhlIHNjcmlwdCB0byBwcm9jZXNzIHN1Ym1lbnVcbiAqIG5hdmlnYXRpb24gdG9nZ2xlIGZvciBhIHNwZWNpZmljIG5hdmlnYXRpb24gbWVudS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBuYXYgTmF2aWdhdGlvbiBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBpbml0RWFjaE5hdlRvZ2dsZVN1Ym1lbnUoIG5hdiApIHtcblx0Ly8gR2V0IHRoZSBzdWJtZW51cy5cblx0Y29uc3QgU1VCTUVOVVMgPSBuYXYucXVlcnlTZWxlY3RvckFsbCggJy5tZW51IHVsJyApO1xuXG5cdC8vIE5vIHBvaW50IGlmIG5vIHN1Ym1lbnVzLlxuXHRpZiAoICEgU1VCTUVOVVMubGVuZ3RoICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIENyZWF0ZSB0aGUgZHJvcGRvd24gYnV0dG9uLlxuXHRjb25zdCBkcm9wZG93bkJ1dHRvbiA9IGdldERyb3Bkb3duQnV0dG9uKCk7XG5cblx0Zm9yICggbGV0IGkgPSAwOyBpIDwgU1VCTUVOVVMubGVuZ3RoOyBpKysgKSB7XG5cdFx0Y29uc3QgcGFyZW50TWVudUl0ZW0gPSBTVUJNRU5VU1sgaSBdLnBhcmVudE5vZGU7XG5cdFx0bGV0IGRyb3Bkb3duID0gcGFyZW50TWVudUl0ZW0ucXVlcnlTZWxlY3RvciggJy5kcm9wZG93bicgKTtcblxuXHRcdC8vIElmIG5vIGRyb3Bkb3duLCBjcmVhdGUgb25lLlxuXHRcdGlmICggISBkcm9wZG93biApIHtcblx0XHRcdC8vIENyZWF0ZSBkcm9wZG93bi5cblx0XHRcdGRyb3Bkb3duID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3NwYW4nICk7XG5cdFx0XHRkcm9wZG93bi5jbGFzc0xpc3QuYWRkKCAnZHJvcGRvd24nICk7XG5cblx0XHRcdGNvbnN0IGRyb3Bkb3duU3ltYm9sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2knICk7XG5cdFx0XHRkcm9wZG93blN5bWJvbC5jbGFzc0xpc3QuYWRkKCAnZHJvcGRvd24tc3ltYm9sJyApO1xuXHRcdFx0ZHJvcGRvd24uYXBwZW5kQ2hpbGQoIGRyb3Bkb3duU3ltYm9sICk7XG5cblx0XHRcdC8vIEFkZCBiZWZvcmUgc3VibWVudS5cblx0XHRcdFNVQk1FTlVTWyBpIF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGRyb3Bkb3duLCBTVUJNRU5VU1sgaSBdICk7XG5cdFx0fVxuXG5cdFx0Ly8gQ29udmVydCBkcm9wZG93biB0byBidXR0b24uXG5cdFx0Y29uc3QgdGhpc0Ryb3Bkb3duQnV0dG9uID0gZHJvcGRvd25CdXR0b24uY2xvbmVOb2RlKCB0cnVlICk7XG5cblx0XHQvLyBDb3B5IGNvbnRlbnRzIG9mIGRyb3Bkb3duIGludG8gYnV0dG9uLlxuXHRcdHRoaXNEcm9wZG93bkJ1dHRvbi5pbm5lckhUTUwgPSBkcm9wZG93bi5pbm5lckhUTUw7XG5cblx0XHQvLyBSZXBsYWNlIGRyb3Bkb3duIHdpdGggdG9nZ2xlIGJ1dHRvbi5cblx0XHRkcm9wZG93bi5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCggdGhpc0Ryb3Bkb3duQnV0dG9uLCBkcm9wZG93biApO1xuXG5cdFx0Ly8gVG9nZ2xlIHRoZSBzdWJtZW51IHdoZW4gd2UgY2xpY2sgdGhlIGRyb3Bkb3duIGJ1dHRvbi5cblx0XHR0aGlzRHJvcGRvd25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgKCBlICkgPT4ge1xuXHRcdFx0dG9nZ2xlU3ViTWVudSggZS50YXJnZXQucGFyZW50Tm9kZSApO1xuXHRcdH0gKTtcblxuXHRcdC8vIENsZWFuIHVwIHRoZSB0b2dnbGUgaWYgYSBtb3VzZSB0YWtlcyBvdmVyIGZyb20ga2V5Ym9hcmQuXG5cdFx0cGFyZW50TWVudUl0ZW0uYWRkRXZlbnRMaXN0ZW5lciggJ21vdXNlbGVhdmUnLCAoIGUgKSA9PiB7XG5cdFx0XHR0b2dnbGVTdWJNZW51KCBlLnRhcmdldCwgZmFsc2UgKTtcblx0XHR9ICk7XG5cblx0XHQvLyBXaGVuIHdlIGZvY3VzIG9uIGEgbWVudSBsaW5rLCBtYWtlIHN1cmUgYWxsIHNpYmxpbmdzIGFyZSBjbG9zZWQuXG5cdFx0cGFyZW50TWVudUl0ZW0ucXVlcnlTZWxlY3RvciggJ2EnICkuYWRkRXZlbnRMaXN0ZW5lciggJ2ZvY3VzJywgKCBlICkgPT4ge1xuXHRcdFx0Y29uc3QgcGFyZW50TWVudUl0ZW1zVG9nZ2xlZCA9IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCAnbGkubWVudS1pdGVtLS10b2dnbGVkLW9uJyApO1xuXHRcdFx0Zm9yICggbGV0IGogPSAwOyBqIDwgcGFyZW50TWVudUl0ZW1zVG9nZ2xlZC5sZW5ndGg7IGorKyApIHtcblx0XHRcdFx0dG9nZ2xlU3ViTWVudSggcGFyZW50TWVudUl0ZW1zVG9nZ2xlZFsgaiBdLCBmYWxzZSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHRcdC8vIEhhbmRsZSBrZXlib2FyZCBhY2Nlc3NpYmlsaXR5IGZvciB0cmF2ZXJzaW5nIG1lbnUuXG5cdFx0U1VCTUVOVVNbIGkgXS5hZGRFdmVudExpc3RlbmVyKCAna2V5ZG93bicsICggZSApID0+IHtcblx0XHRcdC8vIFRoZXNlIHNwZWNpZmljIHNlbGVjdG9ycyBoZWxwIHVzIG9ubHkgc2VsZWN0IGl0ZW1zIHRoYXQgYXJlIHZpc2libGUuXG5cdFx0XHRjb25zdCBmb2N1c1NlbGVjdG9yID0gJ3VsLnRvZ2dsZS1zaG93ID4gbGkgPiBhLCB1bC50b2dnbGUtc2hvdyA+IGxpID4gYnV0dG9uJztcblxuXHRcdFx0aWYgKCBLRVlNQVAuVEFCID09PSBlLmtleUNvZGUgKSB7XG5cdFx0XHRcdGlmICggZS5zaGlmdEtleSApIHtcblx0XHRcdFx0XHQvLyBNZWFucyB3ZSdyZSB0YWJiaW5nIG91dCBvZiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBzdWJtZW51LlxuXHRcdFx0XHRcdGlmICggaXNmaXJzdEZvY3VzYWJsZUVsZW1lbnQoIGUudGFyZ2V0LCBkb2N1bWVudC5hY3RpdmVFbGVtZW50LCBmb2N1c1NlbGVjdG9yICkgKSB7XG5cdFx0XHRcdFx0XHR0b2dnbGVTdWJNZW51KCBlLnRhcmdldC5wYXJlbnROb2RlLCBmYWxzZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBNZWFucyB3ZSdyZSB0YWJiaW5nIG91dCBvZiB0aGUgZW5kIG9mIHRoZSBzdWJtZW51LlxuXHRcdFx0XHR9IGVsc2UgaWYgKCBpc2xhc3RGb2N1c2FibGVFbGVtZW50KCBlLnRhcmdldCwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCwgZm9jdXNTZWxlY3RvciApICkge1xuXHRcdFx0XHRcdHRvZ2dsZVN1Yk1lbnUoIGUudGFyZ2V0LnBhcmVudE5vZGUsIGZhbHNlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9ICk7XG5cblx0XHRTVUJNRU5VU1sgaSBdLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCggJ21lbnUtaXRlbS0taGFzLXRvZ2dsZScgKTtcblx0fVxufVxuXG4vKipcbiAqIEluaXRpYXRlIHRoZSBzY3JpcHQgdG8gcHJvY2VzcyBhbGxcbiAqIG5hdmlnYXRpb24gbWVudXMgd2l0aCBzbWFsbCB0b2dnbGUgZW5hYmxlZC5cbiAqL1xuZnVuY3Rpb24gaW5pdE5hdlRvZ2dsZVNtYWxsKCkge1xuXHRjb25zdCBuYXZUT0dHTEUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnLm5hdi0tdG9nZ2xlLXNtYWxsJyApO1xuXG5cdC8vIE5vIHBvaW50IGlmIG5vIG5hdnMuXG5cdGlmICggISBuYXZUT0dHTEUubGVuZ3RoICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGZvciAoIGxldCBpID0gMDsgaSA8IG5hdlRPR0dMRS5sZW5ndGg7IGkrKyApIHtcblx0XHRpbml0RWFjaE5hdlRvZ2dsZVNtYWxsKCBuYXZUT0dHTEVbIGkgXSApO1xuXHR9XG59XG5cbi8qKlxuICogSW5pdGlhdGUgdGhlIHNjcmlwdCB0byBwcm9jZXNzIHNtYWxsXG4gKiBuYXZpZ2F0aW9uIHRvZ2dsZSBmb3IgYSBzcGVjaWZpYyBuYXZpZ2F0aW9uIG1lbnUuXG4gKiBAcGFyYW0ge09iamVjdH0gbmF2IE5hdmlnYXRpb24gZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gaW5pdEVhY2hOYXZUb2dnbGVTbWFsbCggbmF2ICkge1xuXHRjb25zdCBtZW51VE9HR0xFID0gbmF2LnF1ZXJ5U2VsZWN0b3IoICcubWVudS10b2dnbGUnICk7XG5cblx0Ly8gUmV0dXJuIGVhcmx5IGlmIE1FTlVUT0dHTEUgaXMgbWlzc2luZy5cblx0aWYgKCAhIG1lbnVUT0dHTEUgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gQWRkIGFuIGluaXRpYWwgdmFsdWVzIGZvciB0aGUgYXR0cmlidXRlLlxuXHRtZW51VE9HR0xFLnNldEF0dHJpYnV0ZSggJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnICk7XG5cblx0bWVudVRPR0dMRS5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCAoIGUgKSA9PiB7XG5cdFx0bmF2LmNsYXNzTGlzdC50b2dnbGUoICduYXYtLXRvZ2dsZWQtb24nICk7XG5cdFx0ZS50YXJnZXQuc2V0QXR0cmlidXRlKCAnYXJpYS1leHBhbmRlZCcsICdmYWxzZScgPT09IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSggJ2FyaWEtZXhwYW5kZWQnICkgPyAndHJ1ZScgOiAnZmFsc2UnICk7XG5cdH0sIGZhbHNlICk7XG59XG5cbi8qKlxuICogVG9nZ2xlIHN1Ym1lbnVzIG9wZW4gYW5kIGNsb3NlZCwgYW5kIHRlbGwgc2NyZWVuIHJlYWRlcnMgd2hhdCdzIGdvaW5nIG9uLlxuICogQHBhcmFtIHtPYmplY3R9IHBhcmVudE1lbnVJdGVtIFBhcmVudCBtZW51IGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGZvcmNlVG9nZ2xlIEZvcmNlIHRoZSBtZW51IHRvZ2dsZS5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHRvZ2dsZVN1Yk1lbnUoIHBhcmVudE1lbnVJdGVtLCBmb3JjZVRvZ2dsZSApIHtcblx0Y29uc3QgdG9nZ2xlQnV0dG9uID0gcGFyZW50TWVudUl0ZW0ucXVlcnlTZWxlY3RvciggJy5kcm9wZG93bi10b2dnbGUnICksXG5cdFx0c3ViTWVudSA9IHBhcmVudE1lbnVJdGVtLnF1ZXJ5U2VsZWN0b3IoICd1bCcgKTtcblx0bGV0IHBhcmVudE1lbnVJdGVtVG9nZ2xlZCA9IHBhcmVudE1lbnVJdGVtLmNsYXNzTGlzdC5jb250YWlucyggJ21lbnUtaXRlbS0tdG9nZ2xlZC1vbicgKTtcblxuXHQvLyBXaWxsIGJlIHRydWUgaWYgd2Ugd2FudCB0byBmb3JjZSB0aGUgdG9nZ2xlIG9uLCBmYWxzZSBpZiBmb3JjZSB0b2dnbGUgY2xvc2UuXG5cdGlmICggdW5kZWZpbmVkICE9PSBmb3JjZVRvZ2dsZSAmJiAnYm9vbGVhbicgPT09ICggdHlwZW9mIGZvcmNlVG9nZ2xlICkgKSB7XG5cdFx0cGFyZW50TWVudUl0ZW1Ub2dnbGVkID0gISBmb3JjZVRvZ2dsZTtcblx0fVxuXG5cdC8vIFRvZ2dsZSBhcmlhLWV4cGFuZGVkIHN0YXR1cy5cblx0dG9nZ2xlQnV0dG9uLnNldEF0dHJpYnV0ZSggJ2FyaWEtZXhwYW5kZWQnLCAoICEgcGFyZW50TWVudUl0ZW1Ub2dnbGVkICkudG9TdHJpbmcoKSApO1xuXG5cdC8qXG5cdCAqIFN0ZXBzIHRvIGhhbmRsZSBkdXJpbmcgdG9nZ2xlOlxuXHQgKiAtIExldCB0aGUgcGFyZW50IG1lbnUgaXRlbSBrbm93IHdlJ3JlIHRvZ2dsZWQgb24vb2ZmLlxuXHQgKiAtIFRvZ2dsZSB0aGUgQVJJQSBsYWJlbCB0byBsZXQgc2NyZWVuIHJlYWRlcnMga25vdyB3aWxsIGV4cGFuZCBvciBjb2xsYXBzZS5cblx0ICovXG5cdGlmICggcGFyZW50TWVudUl0ZW1Ub2dnbGVkICkge1xuXHRcdC8vIFRvZ2dsZSBcIm9mZlwiIHRoZSBzdWJtZW51LlxuXHRcdHBhcmVudE1lbnVJdGVtLmNsYXNzTGlzdC5yZW1vdmUoICdtZW51LWl0ZW0tLXRvZ2dsZWQtb24nICk7XG5cdFx0c3ViTWVudS5jbGFzc0xpc3QucmVtb3ZlKCAndG9nZ2xlLXNob3cnICk7XG5cdFx0dG9nZ2xlQnV0dG9uLnNldEF0dHJpYnV0ZSggJ2FyaWEtbGFiZWwnLCB3cFJpZ1NjcmVlblJlYWRlclRleHQuZXhwYW5kICk7XG5cblx0XHQvLyBNYWtlIHN1cmUgYWxsIGNoaWxkcmVuIGFyZSBjbG9zZWQuXG5cdFx0Y29uc3Qgc3ViTWVudUl0ZW1zVG9nZ2xlZCA9IHBhcmVudE1lbnVJdGVtLnF1ZXJ5U2VsZWN0b3JBbGwoICcubWVudS1pdGVtLS10b2dnbGVkLW9uJyApO1xuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IHN1Yk1lbnVJdGVtc1RvZ2dsZWQubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHR0b2dnbGVTdWJNZW51KCBzdWJNZW51SXRlbXNUb2dnbGVkWyBpIF0sIGZhbHNlICk7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdC8vIE1ha2Ugc3VyZSBzaWJsaW5ncyBhcmUgY2xvc2VkLlxuXHRcdGNvbnN0IHBhcmVudE1lbnVJdGVtc1RvZ2dsZWQgPSBwYXJlbnRNZW51SXRlbS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoICdsaS5tZW51LWl0ZW0tLXRvZ2dsZWQtb24nICk7XG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgcGFyZW50TWVudUl0ZW1zVG9nZ2xlZC5sZW5ndGg7IGkrKyApIHtcblx0XHRcdHRvZ2dsZVN1Yk1lbnUoIHBhcmVudE1lbnVJdGVtc1RvZ2dsZWRbIGkgXSwgZmFsc2UgKTtcblx0XHR9XG5cblx0XHQvLyBUb2dnbGUgXCJvblwiIHRoZSBzdWJtZW51LlxuXHRcdHBhcmVudE1lbnVJdGVtLmNsYXNzTGlzdC5hZGQoICdtZW51LWl0ZW0tLXRvZ2dsZWQtb24nICk7XG5cdFx0c3ViTWVudS5jbGFzc0xpc3QuYWRkKCAndG9nZ2xlLXNob3cnICk7XG5cdFx0dG9nZ2xlQnV0dG9uLnNldEF0dHJpYnV0ZSggJ2FyaWEtbGFiZWwnLCB3cFJpZ1NjcmVlblJlYWRlclRleHQuY29sbGFwc2UgKTtcblx0fVxufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGRyb3Bkb3duIGJ1dHRvblxuICogZWxlbWVudCBuZWVkZWQgZm9yIHRoZSBtZW51LlxuICogQHJldHVybiB7T2JqZWN0fSBkcm9wLWRvd24gYnV0dG9uIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0RHJvcGRvd25CdXR0b24oKSB7XG5cdGNvbnN0IGRyb3Bkb3duQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2J1dHRvbicgKTtcblx0ZHJvcGRvd25CdXR0b24uY2xhc3NMaXN0LmFkZCggJ2Ryb3Bkb3duLXRvZ2dsZScgKTtcblx0ZHJvcGRvd25CdXR0b24uc2V0QXR0cmlidXRlKCAnYXJpYS1leHBhbmRlZCcsICdmYWxzZScgKTtcblx0ZHJvcGRvd25CdXR0b24uc2V0QXR0cmlidXRlKCAnYXJpYS1sYWJlbCcsIHdwUmlnU2NyZWVuUmVhZGVyVGV4dC5leHBhbmQgKTtcblx0cmV0dXJuIGRyb3Bkb3duQnV0dG9uO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBlbGVtZW50IGlzIHRoZVxuICogZmlyc3QgZm9jdXNhYmxlIGVsZW1lbnQgaW4gdGhlIGNvbnRhaW5lci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250YWluZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gZm9jdXNTZWxlY3RvclxuICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciBvciBub3QgdGhlIGVsZW1lbnQgaXMgdGhlIGZpcnN0IGZvY3VzYWJsZSBlbGVtZW50IGluIHRoZSBjb250YWluZXJcbiAqL1xuZnVuY3Rpb24gaXNmaXJzdEZvY3VzYWJsZUVsZW1lbnQoIGNvbnRhaW5lciwgZWxlbWVudCwgZm9jdXNTZWxlY3RvciApIHtcblx0Y29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCggZm9jdXNTZWxlY3RvciApO1xuXHRpZiAoIDAgPCBmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggKSB7XG5cdFx0cmV0dXJuIGVsZW1lbnQgPT09IGZvY3VzYWJsZUVsZW1lbnRzWyAwIF07XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBlbGVtZW50IGlzIHRoZVxuICogbGFzdCBmb2N1c2FibGUgZWxlbWVudCBpbiB0aGUgY29udGFpbmVyLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRhaW5lclxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb2N1c1NlbGVjdG9yXG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIG9yIG5vdCB0aGUgZWxlbWVudCBpcyB0aGUgbGFzdCBmb2N1c2FibGUgZWxlbWVudCBpbiB0aGUgY29udGFpbmVyXG4gKi9cbmZ1bmN0aW9uIGlzbGFzdEZvY3VzYWJsZUVsZW1lbnQoIGNvbnRhaW5lciwgZWxlbWVudCwgZm9jdXNTZWxlY3RvciApIHtcblx0Y29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCggZm9jdXNTZWxlY3RvciApO1xuXHRpZiAoIDAgPCBmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggKSB7XG5cdFx0cmV0dXJuIGVsZW1lbnQgPT09IGZvY3VzYWJsZUVsZW1lbnRzWyBmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggLSAxIF07XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxuIl19